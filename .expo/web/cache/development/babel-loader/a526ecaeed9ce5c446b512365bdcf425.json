{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Avatar } from \"react-native-paper\";\nimport { Entypo } from \"@expo/vector-icons\";\nimport { Picker } from \"@react-native-picker/picker\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport * as Permissions from \"expo-permissions\";\nimport { AntDesign } from \"@expo/vector-icons\";\nimport axios from \"axios\";\nimport url from \"../../url.json\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function LabManagementProfile(_ref) {\n  var route = _ref.route;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      edit = _useState4[0],\n      setEdit = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      name = _useState6[0],\n      setName = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      address = _useState8[0],\n      setAddress = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      contact = _useState10[0],\n      setContact = _useState10[1];\n\n  var _useState11 = useState(\"https://image.shutterstock.com/image-vector/default-avatar-profile-icon-vector-260nw-1725655669.jpg\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      profile_pic = _useState12[0],\n      setImage = _useState12[1];\n\n  useEffect(function () {\n    var apiCall = function apiCall() {\n      var res;\n      return _regeneratorRuntime.async(function apiCall$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\"a\");\n              _context.prev = 1;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(axios.get(url.url + \"api/lab/62311d98eec4d72ea54a94e7\"));\n\n            case 4:\n              res = _context.sent;\n              setImage(res.data.profile_pic);\n              setName(res.data.name);\n              setAddress(res.data.address);\n              setContact(res.data.contact);\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[1, 11]], Promise);\n    };\n\n    apiCall();\n  }, []);\n\n  var pickFromGallery = function pickFromGallery() {\n    var _await$ImagePicker$re, status, _data, newFile;\n\n    return _regeneratorRuntime.async(function pickFromGallery$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.requestMediaLibraryPermissionsAsync());\n\n          case 2:\n            _await$ImagePicker$re = _context2.sent;\n            status = _await$ImagePicker$re.status;\n\n            if (!status) {\n              _context2.next = 12;\n              break;\n            }\n\n            _context2.next = 7;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.Images,\n              allowsEditing: true,\n              aspectRatio: [1, 1],\n              quality: 1\n            }));\n\n          case 7:\n            _data = _context2.sent;\n\n            if (!_data.cancelled) {\n              newFile = {\n                uri: _data.uri,\n                type: \"test/\" + _data.uri.split(\".\")[1],\n                name: \"test.\" + _data.uri.split(\".\")[1]\n              };\n              handleUpload(newFile);\n              Alert.alert(\"Success\", \"Image Uploaded Successfully!\");\n            }\n\n            console.log(_data);\n            _context2.next = 13;\n            break;\n\n          case 12:\n            Alert.alert(\"Warning\", \"Permissions to Gallery are Required\");\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var handleUpload = function handleUpload(image) {\n    var d = new FormData();\n    d.append(\"file\", image);\n    d.append(\"upload_preset\", \"esehatmarkaz\");\n    d.append(\"cloud_name\", \"esehatnarkaz\");\n    fetch(\"https://api.cloudinary.com/v1_1/esehatmarkaz/image/upload\", {\n      method: \"POST\",\n      body: d\n    }).then(function (response) {\n      return response.json();\n    }).then(function (items) {\n      setImage(items.url);\n      console.log(items.url);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  var onPresHandler = function onPresHandler() {\n    var config, body, res;\n    return _regeneratorRuntime.async(function onPresHandler$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            config = {\n              headers: {\n                \"Content-type\": \"application/json\"\n              }\n            };\n            body = {\n              name: name,\n              address: address,\n              contact: contact,\n              profile_pic: profile_pic\n            };\n            _context3.prev = 2;\n            _context3.next = 5;\n            return _regeneratorRuntime.awrap(axios.post(url + \"api/lab/update/62311d98eec4d72ea54a94e7\", body, config));\n\n          case 5:\n            res = _context3.sent;\n            console.log(\"abc\");\n            _context3.next = 12;\n            break;\n\n          case 9:\n            _context3.prev = 9;\n            _context3.t0 = _context3[\"catch\"](2);\n            console.log(_context3.t0);\n\n          case 12:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[2, 9]], Promise);\n  };\n\n  return _jsxs(ScrollView, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: styles.uploadImageContainer,\n      children: _jsxs(View, {\n        style: styles.naar,\n        children: [_jsx(Image, {\n          source: {\n            uri: profile_pic\n          },\n          style: {\n            width: 200,\n            height: 200\n          }\n        }), _jsx(View, {\n          style: styles.uploadBtnContainer,\n          children: _jsxs(TouchableOpacity, {\n            onPress: pickFromGallery,\n            style: styles.uploadBtn,\n            children: [_jsxs(Text, {\n              children: [profile_pic ? \"Edit\" : \"Upload\", \" Image\"]\n            }), _jsx(AntDesign, {\n              name: \"camera\",\n              size: 20,\n              color: \"black\"\n            })]\n          })\n        })]\n      })\n    }), _jsxs(View, {\n      style: {\n        flexDirection: \"row-reverse\",\n        marginVertical: 20,\n        marginLeft: 80\n      },\n      children: [_jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return setEdit(!edit);\n        },\n        children: _jsx(Entypo, {\n          name: \"edit\",\n          size: 20,\n          color: \"gray\",\n          style: {\n            marginTop: 8\n          }\n        })\n      }), _jsx(TextInput, {\n        style: styles.name,\n        editable: edit ? true : false,\n        name: \"name\",\n        value: name,\n        onChangeText: function onChangeText(name) {\n          return setName(name);\n        }\n      })]\n    }), _jsxs(View, {\n      style: styles.details,\n      children: [_jsxs(View, {\n        style: {\n          flexDirection: \"row\"\n        },\n        children: [_jsx(Text, {\n          style: styles.keys,\n          children: \"Address: \"\n        }), _jsx(TextInput, {\n          style: styles.values,\n          name: \"address\",\n          value: address,\n          onChangeText: function onChangeText(address) {\n            return setAddress(address);\n          }\n        })]\n      }), console.log(\"before\", contact), _jsxs(View, {\n        style: {\n          flexDirection: \"row\"\n        },\n        children: [_jsx(Text, {\n          style: styles.keys,\n          children: \"Contact: \"\n        }), _jsx(TextInput, {\n          style: styles.values,\n          name: \"contact\",\n          value: contact,\n          onChangeText: function onChangeText(contact) {\n            return setContact(contact);\n          }\n        }), console.log(\"ater\", contact)]\n      })]\n    }), _jsx(View, {\n      style: {\n        alignItems: \"center\"\n      },\n      children: _jsx(TouchableOpacity, {\n        style: styles.btn,\n        onPress: function onPress() {\n          onPresHandler();\n          alert(\"Profile Data Updated\");\n        },\n        children: _jsx(Text, {\n          style: styles.updateBtn,\n          children: \"Save\"\n        })\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: \"20%\",\n    marginHorizontal: 10,\n    width: \"100%\"\n  },\n  uploadImageContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  uploadBtnContainer: {\n    opacity: 0.7,\n    position: \"absolute\",\n    right: 0,\n    bottom: 0,\n    backgroundColor: \"lightgrey\",\n    width: \"100%\",\n    height: \"25%\"\n  },\n  uploadBtn: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  naar: {\n    elevation: 2,\n    height: 200,\n    width: 200,\n    backgroundColor: \"#efefef\",\n    position: \"relative\",\n    borderRadius: 999,\n    overflow: \"hidden\"\n  },\n  name: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    color: \"#26241e\",\n    marginRight: 20\n  },\n  details: {\n    borderTopWidth: 0.3\n  },\n  keys: {\n    fontSize: 16,\n    fontWeight: \"bold\",\n    color: \"#26241e\",\n    marginTop: \"7%\",\n    width: \"30%\"\n  },\n  values: {\n    fontSize: 14,\n    color: \"#6e6464\",\n    marginTop: \"5%\",\n    width: \"65%\",\n    borderWidth: 1,\n    borderRadius: 5,\n    padding: 4\n  },\n  click: {\n    fontSize: 14,\n    color: \"#6e6464\",\n    borderBottomWidth: 0.5\n  },\n  btn: {\n    alignItems: \"center\",\n    height: 100,\n    marginTop: \"10%\"\n  },\n  updateBtn: {\n    padding: 10,\n    paddingHorizontal: 30,\n    alignItems: \"center\",\n    fontSize: 16,\n    borderRadius: 15,\n    backgroundColor: \"darkgray\"\n  }\n});","map":{"version":3,"sources":["C:/Users/kamra/Sehat-Markaz-main/Portals/Lab Management Portal/labManagementProfile.js"],"names":["React","useState","useEffect","Avatar","Entypo","Picker","ImagePicker","Permissions","AntDesign","axios","url","LabManagementProfile","route","data","setData","edit","setEdit","name","setName","address","setAddress","contact","setContact","profile_pic","setImage","apiCall","console","log","get","res","pickFromGallery","requestMediaLibraryPermissionsAsync","status","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspectRatio","quality","cancelled","newFile","uri","type","split","handleUpload","Alert","alert","image","d","FormData","append","fetch","method","body","then","response","json","items","catch","error","onPresHandler","config","headers","post","styles","container","uploadImageContainer","naar","width","height","uploadBtnContainer","uploadBtn","flexDirection","marginVertical","marginLeft","marginTop","details","keys","values","alignItems","btn","updateBtn","StyleSheet","create","marginHorizontal","justifyContent","opacity","position","right","bottom","backgroundColor","display","elevation","borderRadius","overflow","fontSize","fontWeight","color","marginRight","borderTopWidth","borderWidth","padding","click","borderBottomWidth","paddingHorizontal"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  View,\r\n  ScrollView,\r\n  StyleSheet,\r\n  Text,\r\n  TextInput,\r\n  Alert,\r\n  Linking,\r\n  Image,\r\n  TouchableOpacity,\r\n} from \"react-native\";\r\nimport { Avatar } from \"react-native-paper\";\r\nimport { Entypo } from \"@expo/vector-icons\";\r\nimport { Picker } from \"@react-native-picker/picker\";\r\nimport * as ImagePicker from \"expo-image-picker\";\r\nimport * as Permissions from \"expo-permissions\";\r\nimport { AntDesign } from \"@expo/vector-icons\";\r\n//import * as ImagePicker from \"expo-image-picker\";\r\nimport axios from \"axios\";\r\nimport url from \"../../url.json\";\r\n\r\nexport default function LabManagementProfile({ route }) {\r\n  const [data, setData] = useState(\"\");\r\n  const [edit, setEdit] = useState(false);\r\n  const [name, setName] = useState(\"\");\r\n  const [address, setAddress] = useState(\"\");\r\n  const [contact, setContact] = useState(\"\");\r\n  const [profile_pic, setImage] = useState(\r\n    \"https://image.shutterstock.com/image-vector/default-avatar-profile-icon-vector-260nw-1725655669.jpg\"\r\n  );\r\n\r\n  useEffect(() => {\r\n    const apiCall = async () => {\r\n      console.log(\"a\");\r\n      try {\r\n        const res = await axios.get(\r\n          `${url.url}api/lab/62311d98eec4d72ea54a94e7`\r\n        );\r\n        setImage(res.data.profile_pic);\r\n        setName(res.data.name);\r\n        setAddress(res.data.address);\r\n        setContact(res.data.contact);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    apiCall();\r\n  }, []);\r\n\r\n  const pickFromGallery = async () => {\r\n    const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\r\n    if (status) {\r\n      let data = await ImagePicker.launchImageLibraryAsync({\r\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n        allowsEditing: true,\r\n        aspectRatio: [1, 1],\r\n        quality: 1,\r\n      });\r\n      if (!data.cancelled) {\r\n        let newFile = {\r\n          uri: data.uri,\r\n          type: `test/${data.uri.split(\".\")[1]}`,\r\n          name: `test.${data.uri.split(\".\")[1]}`,\r\n        };\r\n        handleUpload(newFile);\r\n        //settemp(newFile);\r\n        //setImage(newFile);\r\n        Alert.alert(\"Success\", \"Image Uploaded Successfully!\");\r\n      }\r\n      console.log(data);\r\n    } else {\r\n      Alert.alert(\"Warning\", \"Permissions to Gallery are Required\");\r\n    }\r\n  };\r\n\r\n  const handleUpload = (image) => {\r\n    const d = new FormData();\r\n    d.append(\"file\", image);\r\n    d.append(\"upload_preset\", \"esehatmarkaz\");\r\n    d.append(\"cloud_name\", \"esehatnarkaz\");\r\n\r\n    fetch(\"https://api.cloudinary.com/v1_1/esehatmarkaz/image/upload\", {\r\n      method: \"POST\",\r\n      body: d,\r\n    })\r\n      .then((response) => response.json())\r\n      .then((items) => {\r\n        setImage(items.url);\r\n        console.log(items.url);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  // const addImage = async () => {\r\n  //   let _image = await ImagePicker.launchImageLibraryAsync();\r\n  // };\r\n\r\n  const onPresHandler = async () => {\r\n    const config = {\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n    };\r\n    const body = { name, address, contact, profile_pic };\r\n    try {\r\n      const res = await axios.post(\r\n        `${url}api/lab/update/62311d98eec4d72ea54a94e7`,\r\n        body,\r\n        config\r\n      );\r\n      console.log(\"abc\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ScrollView style={styles.container}>\r\n      <View style={styles.uploadImageContainer}>\r\n        <View style={styles.naar}>\r\n          <Image\r\n            source={{\r\n              uri: profile_pic,\r\n            }}\r\n            style={{ width: 200, height: 200 }}\r\n          />\r\n\r\n          <View style={styles.uploadBtnContainer}>\r\n            <TouchableOpacity\r\n              onPress={pickFromGallery}\r\n              style={styles.uploadBtn}\r\n            >\r\n              <Text>{profile_pic ? \"Edit\" : \"Upload\"} Image</Text>\r\n              <AntDesign name=\"camera\" size={20} color=\"black\" />\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n      {/* <Avatar.Image source={kami} size={200} /> */}\r\n      <View\r\n        style={{\r\n          flexDirection: \"row-reverse\",\r\n          marginVertical: 20,\r\n          marginLeft: 80,\r\n        }}\r\n      >\r\n        <TouchableOpacity onPress={() => setEdit(!edit)}>\r\n          <Entypo name=\"edit\" size={20} color=\"gray\" style={{ marginTop: 8 }} />\r\n        </TouchableOpacity>\r\n        <TextInput\r\n          style={styles.name}\r\n          editable={edit ? true : false}\r\n          name=\"name\"\r\n          value={name}\r\n          onChangeText={(name) => setName(name)}\r\n        ></TextInput>\r\n      </View>\r\n\r\n      <View style={styles.details}>\r\n        <View style={{ flexDirection: \"row\" }}>\r\n          <Text style={styles.keys}>Address: </Text>\r\n          <TextInput\r\n            style={styles.values}\r\n            name=\"address\"\r\n            value={address}\r\n            onChangeText={(address) => setAddress(address)}\r\n          ></TextInput>\r\n        </View>\r\n\r\n        {console.log(\"before\", contact)}\r\n        <View style={{ flexDirection: \"row\" }}>\r\n          <Text style={styles.keys}>Contact: </Text>\r\n          <TextInput\r\n            style={styles.values}\r\n            name=\"contact\"\r\n            value={contact}\r\n            onChangeText={(contact) => setContact(contact)}\r\n          ></TextInput>\r\n          {console.log(\"ater\", contact)}\r\n        </View>\r\n      </View>\r\n\r\n      <View style={{ alignItems: \"center\" }}>\r\n        <TouchableOpacity\r\n          style={styles.btn}\r\n          onPress={() => {\r\n            onPresHandler();\r\n            alert(\"Profile Data Updated\");\r\n          }}\r\n        >\r\n          <Text style={styles.updateBtn}>Save</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </ScrollView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    marginTop: \"20%\",\r\n    marginHorizontal: 10,\r\n    width: \"100%\",\r\n  },\r\n  uploadImageContainer: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  uploadBtnContainer: {\r\n    opacity: 0.7,\r\n    position: \"absolute\",\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: \"lightgrey\",\r\n    width: \"100%\",\r\n    height: \"25%\",\r\n  },\r\n  uploadBtn: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  naar: {\r\n    elevation: 2,\r\n    height: 200,\r\n    width: 200,\r\n    backgroundColor: \"#efefef\",\r\n    position: \"relative\",\r\n    borderRadius: 999,\r\n    overflow: \"hidden\",\r\n  },\r\n  name: {\r\n    fontSize: 24,\r\n    fontWeight: \"bold\",\r\n    color: \"#26241e\",\r\n    marginRight: 20,\r\n  },\r\n  details: {\r\n    borderTopWidth: 0.3,\r\n    // borderBottomEndRadius: 10,\r\n    // // borderBottomRightRadius: 100,\r\n    // borderBottomStartRadius: 100,\r\n  },\r\n  keys: {\r\n    fontSize: 16,\r\n    fontWeight: \"bold\",\r\n    color: \"#26241e\",\r\n    marginTop: \"7%\",\r\n    width: \"30%\",\r\n  },\r\n  values: {\r\n    fontSize: 14,\r\n    color: \"#6e6464\",\r\n    marginTop: \"5%\",\r\n    width: \"65%\",\r\n    borderWidth: 1,\r\n    borderRadius: 5,\r\n    padding: 4,\r\n  },\r\n  click: {\r\n    fontSize: 14,\r\n    color: \"#6e6464\",\r\n    borderBottomWidth: 0.5,\r\n  },\r\n  btn: {\r\n    alignItems: \"center\",\r\n    height: 100,\r\n    marginTop: \"10%\",\r\n  },\r\n  updateBtn: {\r\n    padding: 10,\r\n    paddingHorizontal: 30,\r\n    alignItems: \"center\",\r\n    fontSize: 16,\r\n    borderRadius: 15,\r\n    backgroundColor: \"darkgray\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}