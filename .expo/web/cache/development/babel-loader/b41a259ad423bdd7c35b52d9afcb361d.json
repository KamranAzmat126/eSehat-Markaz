{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Avatar } from \"react-native-paper\";\nimport { Entypo } from \"@expo/vector-icons\";\nimport { Picker } from \"@react-native-picker/picker\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport * as Permissions from \"expo-permissions\";\nimport { AntDesign } from \"@expo/vector-icons\";\nimport axios from \"axios\";\nimport url from \"../../url.json\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function BloodDonorProfile(_ref) {\n  var route = _ref.route;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      edit = _useState4[0],\n      setEdit = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      name = _useState6[0],\n      setName = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      age = _useState8[0],\n      setAge = _useState8[1];\n\n  var _useState9 = useState(\"A+\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      bloodgroup = _useState10[0],\n      setBloodGroup = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      address = _useState12[0],\n      setAddress = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      contact = _useState14[0],\n      setContact = _useState14[1];\n\n  var _useState15 = useState(\"https://image.shutterstock.com/image-vector/default-avatar-profile-icon-vector-260nw-1725655669.jpg\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      profile_pic = _useState16[0],\n      setImage = _useState16[1];\n\n  useEffect(function () {\n    var apiCall = function apiCall() {\n      var res;\n      return _regeneratorRuntime.async(function apiCall$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\"a\");\n              _context.prev = 1;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(axios.get(url.url + \"api/blooddonor/62311acdf766fec7c897a35f\"));\n\n            case 4:\n              res = _context.sent;\n              setImage(res.data.profile_pic);\n              setName(res.data.name);\n              setAge(res.data.age);\n              setBloodGroup(res.data.bloodgroup);\n              setAddress(res.data.address);\n              setContact(res.data.contact);\n              _context.next = 16;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[1, 13]], Promise);\n    };\n\n    apiCall();\n  }, []);\n\n  var pickFromGallery = function pickFromGallery() {\n    var _await$ImagePicker$re, status, _data, newFile;\n\n    return _regeneratorRuntime.async(function pickFromGallery$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.requestMediaLibraryPermissionsAsync());\n\n          case 2:\n            _await$ImagePicker$re = _context2.sent;\n            status = _await$ImagePicker$re.status;\n\n            if (!status) {\n              _context2.next = 12;\n              break;\n            }\n\n            _context2.next = 7;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.Images,\n              allowsEditing: true,\n              aspectRatio: [1, 1],\n              quality: 1\n            }));\n\n          case 7:\n            _data = _context2.sent;\n\n            if (!_data.cancelled) {\n              newFile = {\n                uri: _data.uri,\n                type: \"test/\" + _data.uri.split(\".\")[1],\n                name: \"test.\" + _data.uri.split(\".\")[1]\n              };\n              handleUpload(newFile);\n              Alert.alert(\"Success\", \"Image Uploaded Successfully!\");\n            }\n\n            console.log(_data);\n            _context2.next = 13;\n            break;\n\n          case 12:\n            Alert.alert(\"Warning\", \"Permissions to Gallery are Required\");\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var handleUpload = function handleUpload(image) {\n    var d = new FormData();\n    d.append(\"file\", image);\n    d.append(\"upload_preset\", \"esehatmarkaz\");\n    d.append(\"cloud_name\", \"esehatnarkaz\");\n    fetch(\"https://api.cloudinary.com/v1_1/esehatmarkaz/image/upload\", {\n      method: \"POST\",\n      body: d\n    }).then(function (response) {\n      return response.json();\n    }).then(function (items) {\n      setImage(items.url);\n      console.log(items.url);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  var onPresHandler = function onPresHandler() {\n    var config, body, res;\n    return _regeneratorRuntime.async(function onPresHandler$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            config = {\n              headers: {\n                \"Content-type\": \"application/json\"\n              }\n            };\n            body = {\n              name: name,\n              age: age,\n              bloodgroup: bloodgroup,\n              address: address,\n              contact: contact,\n              profile_pic: profile_pic\n            };\n            _context3.prev = 2;\n            _context3.next = 5;\n            return _regeneratorRuntime.awrap(axios.post(url + \"api/blooddonor/update/62311acdf766fec7c897a35f\", body, config));\n\n          case 5:\n            res = _context3.sent;\n            console.log(\"abc\");\n            _context3.next = 12;\n            break;\n\n          case 9:\n            _context3.prev = 9;\n            _context3.t0 = _context3[\"catch\"](2);\n            console.log(_context3.t0);\n\n          case 12:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[2, 9]], Promise);\n  };\n\n  return _jsxs(ScrollView, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: styles.uploadImageContainer,\n      children: _jsxs(View, {\n        style: styles.naar,\n        children: [_jsx(Image, {\n          source: {\n            uri: profile_pic\n          },\n          style: {\n            width: 200,\n            height: 200\n          }\n        }), _jsx(View, {\n          style: styles.uploadBtnContainer,\n          children: _jsxs(TouchableOpacity, {\n            onPress: pickFromGallery,\n            style: styles.uploadBtn,\n            children: [_jsxs(Text, {\n              children: [profile_pic ? \"Edit\" : \"Upload\", \" Image\"]\n            }), _jsx(AntDesign, {\n              name: \"camera\",\n              size: 20,\n              color: \"black\"\n            })]\n          })\n        })]\n      })\n    }), _jsxs(View, {\n      style: {\n        flexDirection: \"row-reverse\",\n        marginVertical: 20,\n        marginLeft: 60\n      },\n      children: [_jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return setEdit(!edit);\n        },\n        children: _jsx(Entypo, {\n          name: \"edit\",\n          size: 20,\n          color: \"gray\",\n          style: {\n            marginTop: 8\n          }\n        })\n      }), _jsx(TextInput, {\n        style: styles.name,\n        editable: edit ? true : false,\n        name: \"name\",\n        value: name,\n        onChangeText: function onChangeText(name) {\n          return setName(name);\n        }\n      })]\n    }), _jsxs(View, {\n      style: styles.details,\n      children: [_jsxs(View, {\n        style: {\n          flexDirection: \"row\"\n        },\n        children: [_jsx(Text, {\n          style: styles.keys,\n          children: \"Age: \"\n        }), _jsx(TextInput, {\n          style: styles.values,\n          name: \"name\",\n          value: age,\n          onChangeText: function onChangeText(age) {\n            return setAge(age);\n          }\n        })]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          height: \"19%\"\n        },\n        children: [_jsx(Text, {\n          style: styles.keys,\n          children: \"Blood Group: \"\n        }), _jsx(View, {\n          style: styles.values,\n          children: _jsxs(Picker, {\n            mode: \"dropdown\",\n            style: {\n              marginTop: -12,\n              marginLeft: -5,\n              color: \"gray\"\n            },\n            selectedValue: bloodgroup,\n            onValueChange: function onValueChange(itemValue) {\n              return setBloodGroup(itemValue);\n            },\n            children: [_jsx(Picker.Item, {\n              label: \"A+\",\n              value: \"A+\"\n            }), _jsx(Picker.Item, {\n              label: \"A-\",\n              value: \"A-\"\n            }), _jsx(Picker.Item, {\n              label: \"B+\",\n              value: \"B+\"\n            }), _jsx(Picker.Item, {\n              label: \"B-\",\n              value: \"B-\"\n            }), _jsx(Picker.Item, {\n              label: \"AB+\",\n              value: \"AB+\"\n            }), _jsx(Picker.Item, {\n              label: \"AB-\",\n              value: \"AB-\"\n            }), _jsx(Picker.Item, {\n              label: \"O+\",\n              value: \"O+\"\n            }), _jsx(Picker.Item, {\n              label: \"O-\",\n              value: \"O-\"\n            })]\n          })\n        })]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\"\n        },\n        children: [_jsx(Text, {\n          style: styles.keys,\n          children: \"Address: \"\n        }), _jsx(TextInput, {\n          style: styles.values,\n          name: \"address\",\n          value: address,\n          onChangeText: function onChangeText(address) {\n            return setAddress(address);\n          }\n        })]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\"\n        },\n        children: [_jsx(Text, {\n          style: styles.keys,\n          children: \"Contact: \"\n        }), _jsx(TextInput, {\n          style: styles.values,\n          name: \"contact\",\n          value: contact,\n          onChangeText: function onChangeText(contact) {\n            return setContact(contact);\n          }\n        })]\n      })]\n    }), _jsx(View, {\n      style: {\n        alignItems: \"center\"\n      },\n      children: _jsx(TouchableOpacity, {\n        style: styles.btn,\n        onPress: function onPress() {\n          onPresHandler();\n          alert(\"Profile Data Updated\");\n        },\n        children: _jsx(Text, {\n          style: styles.updateBtn,\n          children: \"Save\"\n        })\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: \"10%\",\n    marginHorizontal: 10\n  },\n  uploadImageContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  uploadBtnContainer: {\n    opacity: 0.7,\n    position: \"absolute\",\n    right: 0,\n    bottom: 0,\n    backgroundColor: \"lightgrey\",\n    width: \"100%\",\n    height: \"25%\"\n  },\n  uploadBtn: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  naar: {\n    elevation: 2,\n    height: 200,\n    width: 200,\n    backgroundColor: \"#efefef\",\n    position: \"relative\",\n    borderRadius: 999,\n    overflow: \"hidden\"\n  },\n  name: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    color: \"#26241e\",\n    marginRight: 10\n  },\n  details: {\n    borderTopWidth: 0.3\n  },\n  keys: {\n    fontSize: 16,\n    fontWeight: \"bold\",\n    color: \"#26241e\",\n    marginTop: \"4%\",\n    width: \"30%\"\n  },\n  values: {\n    fontSize: 14,\n    color: \"#6e6464\",\n    marginTop: \"2%\",\n    width: \"65%\",\n    borderWidth: 0.5,\n    borderRadius: 5,\n    padding: 4\n  },\n  click: {\n    fontSize: 14,\n    color: \"#6e6464\",\n    borderBottomWidth: 0.5\n  },\n  btn: {\n    alignItems: \"center\",\n    height: 100\n  },\n  updateBtn: {\n    padding: 10,\n    color: \"white\",\n    paddingHorizontal: 50,\n    alignItems: \"center\",\n    fontSize: 16,\n    borderRadius: 15,\n    backgroundColor: \"#09da41\"\n  }\n});","map":{"version":3,"sources":["C:/Users/kamra/Sehat-Markaz-main/Portals/Blood Donor Portal/donorProfile.js"],"names":["React","useState","useEffect","Avatar","Entypo","Picker","ImagePicker","Permissions","AntDesign","axios","url","BloodDonorProfile","route","data","setData","edit","setEdit","name","setName","age","setAge","bloodgroup","setBloodGroup","address","setAddress","contact","setContact","profile_pic","setImage","apiCall","console","log","get","res","pickFromGallery","requestMediaLibraryPermissionsAsync","status","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspectRatio","quality","cancelled","newFile","uri","type","split","handleUpload","Alert","alert","image","d","FormData","append","fetch","method","body","then","response","json","items","catch","error","onPresHandler","config","headers","post","styles","container","uploadImageContainer","naar","width","height","uploadBtnContainer","uploadBtn","flexDirection","marginVertical","marginLeft","marginTop","details","keys","values","color","itemValue","alignItems","btn","updateBtn","StyleSheet","create","marginHorizontal","justifyContent","opacity","position","right","bottom","backgroundColor","display","elevation","borderRadius","overflow","fontSize","fontWeight","marginRight","borderTopWidth","borderWidth","padding","click","borderBottomWidth","paddingHorizontal"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;;;;;;;;AAYA,SAASC,MAAT,QAAuB,oBAAvB;AACA,SAASC,MAAT,QAAuB,oBAAvB;AACA,SAASC,MAAT,QAAuB,6BAAvB;AACA,OAAO,KAAKC,WAAZ,MAA6B,mBAA7B;AACA,OAAO,KAAKC,WAAZ,MAA6B,kBAA7B;AACA,SAASC,SAAT,QAA0B,oBAA1B;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP;;;AAEA,eAAe,SAASC,iBAAT,OAAsC;AAAA,MAATC,KAAS,QAATA,KAAS;;AACnD,kBAAwBX,QAAQ,CAAC,EAAD,CAAhC;AAAA;AAAA,MAAOY,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAAwBb,QAAQ,CAAC,KAAD,CAAhC;AAAA;AAAA,MAAOc,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAAwBf,QAAQ,CAAC,EAAD,CAAhC;AAAA;AAAA,MAAOgB,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAAsBjB,QAAQ,CAAC,EAAD,CAA9B;AAAA;AAAA,MAAOkB,GAAP;AAAA,MAAYC,MAAZ;;AACA,mBAAoCnB,QAAQ,CAAC,IAAD,CAA5C;AAAA;AAAA,MAAOoB,UAAP;AAAA,MAAmBC,aAAnB;;AACA,oBAA8BrB,QAAQ,CAAC,EAAD,CAAtC;AAAA;AAAA,MAAOsB,OAAP;AAAA,MAAgBC,UAAhB;;AACA,oBAA8BvB,QAAQ,CAAC,EAAD,CAAtC;AAAA;AAAA,MAAOwB,OAAP;AAAA,MAAgBC,UAAhB;;AACA,oBAAgCzB,QAAQ,CACtC,qGADsC,CAAxC;AAAA;AAAA,MAAO0B,WAAP;AAAA,MAAoBC,QAApB;;AAIA1B,EAAAA,SAAS,CAAC,YAAM;AACd,QAAM2B,OAAO,GAAG,SAAVA,OAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AACdC,cAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AADc;AAAA;AAAA,+CAGMtB,KAAK,CAACuB,GAAN,CACbtB,GAAG,CAACA,GADS,6CAHN;;AAAA;AAGNuB,cAAAA,GAHM;AAMZL,cAAAA,QAAQ,CAACK,GAAG,CAACpB,IAAJ,CAASc,WAAV,CAAR;AACAT,cAAAA,OAAO,CAACe,GAAG,CAACpB,IAAJ,CAASI,IAAV,CAAP;AACAG,cAAAA,MAAM,CAACa,GAAG,CAACpB,IAAJ,CAASM,GAAV,CAAN;AACAG,cAAAA,aAAa,CAACW,GAAG,CAACpB,IAAJ,CAASQ,UAAV,CAAb;AACAG,cAAAA,UAAU,CAACS,GAAG,CAACpB,IAAJ,CAASU,OAAV,CAAV;AACAG,cAAAA,UAAU,CAACO,GAAG,CAACpB,IAAJ,CAASY,OAAV,CAAV;AAXY;AAAA;;AAAA;AAAA;AAAA;AAaZK,cAAAA,OAAO,CAACC,GAAR;;AAbY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAhB;;AAgBAF,IAAAA,OAAO;AACR,GAlBQ,EAkBN,EAlBM,CAAT;;AAoBA,MAAMK,eAAe,GAAG,SAAlBA,eAAkB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACG5B,WAAW,CAAC6B,mCAAZ,EADH;;AAAA;AAAA;AACdC,YAAAA,MADc,yBACdA,MADc;;AAAA,iBAElBA,MAFkB;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAGH9B,WAAW,CAAC+B,uBAAZ,CAAoC;AACnDC,cAAAA,UAAU,EAAEhC,WAAW,CAACiC,gBAAZ,CAA6BC,MADU;AAEnDC,cAAAA,aAAa,EAAE,IAFoC;AAGnDC,cAAAA,WAAW,EAAE,CAAC,CAAD,EAAI,CAAJ,CAHsC;AAInDC,cAAAA,OAAO,EAAE;AAJ0C,aAApC,CAHG;;AAAA;AAGhB9B,YAAAA,KAHgB;;AASpB,gBAAI,CAACA,KAAI,CAAC+B,SAAV,EAAqB;AACfC,cAAAA,OADe,GACL;AACZC,gBAAAA,GAAG,EAAEjC,KAAI,CAACiC,GADE;AAEZC,gBAAAA,IAAI,YAAUlC,KAAI,CAACiC,GAAL,CAASE,KAAT,CAAe,GAAf,EAAoB,CAApB,CAFF;AAGZ/B,gBAAAA,IAAI,YAAUJ,KAAI,CAACiC,GAAL,CAASE,KAAT,CAAe,GAAf,EAAoB,CAApB;AAHF,eADK;AAMnBC,cAAAA,YAAY,CAACJ,OAAD,CAAZ;AAGAK,cAAAA,KAAK,CAACC,KAAN,CAAY,SAAZ,EAAuB,8BAAvB;AACD;;AACDrB,YAAAA,OAAO,CAACC,GAAR,CAAYlB,KAAZ;AApBoB;AAAA;;AAAA;AAsBpBqC,YAAAA,KAAK,CAACC,KAAN,CAAY,SAAZ,EAAuB,qCAAvB;;AAtBoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAxB;;AA0BA,MAAMF,YAAY,GAAG,SAAfA,YAAe,CAACG,KAAD,EAAW;AAC9B,QAAMC,CAAC,GAAG,IAAIC,QAAJ,EAAV;AACAD,IAAAA,CAAC,CAACE,MAAF,CAAS,MAAT,EAAiBH,KAAjB;AACAC,IAAAA,CAAC,CAACE,MAAF,CAAS,eAAT,EAA0B,cAA1B;AACAF,IAAAA,CAAC,CAACE,MAAF,CAAS,YAAT,EAAuB,cAAvB;AAEAC,IAAAA,KAAK,CAAC,2DAAD,EAA8D;AACjEC,MAAAA,MAAM,EAAE,MADyD;AAEjEC,MAAAA,IAAI,EAAEL;AAF2D,KAA9D,CAAL,CAIGM,IAJH,CAIQ,UAACC,QAAD;AAAA,aAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,KAJR,EAKGF,IALH,CAKQ,UAACG,KAAD,EAAW;AACflC,MAAAA,QAAQ,CAACkC,KAAK,CAACpD,GAAP,CAAR;AACAoB,MAAAA,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACpD,GAAlB;AACD,KARH,EASGqD,KATH,CASS,UAACC,KAAD,EAAW;AAChBlC,MAAAA,OAAO,CAACC,GAAR,CAAYiC,KAAZ;AACD,KAXH;AAYD,GAlBD;;AAwBA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AACdC,YAAAA,MADc,GACL;AACbC,cAAAA,OAAO,EAAE;AACP,gCAAgB;AADT;AADI,aADK;AAMdT,YAAAA,IANc,GAMP;AAAEzC,cAAAA,IAAI,EAAJA,IAAF;AAAQE,cAAAA,GAAG,EAAHA,GAAR;AAAaE,cAAAA,UAAU,EAAVA,UAAb;AAAyBE,cAAAA,OAAO,EAAPA,OAAzB;AAAkCE,cAAAA,OAAO,EAAPA,OAAlC;AAA2CE,cAAAA,WAAW,EAAXA;AAA3C,aANO;AAAA;AAAA;AAAA,6CAQAlB,KAAK,CAAC2D,IAAN,CACb1D,GADa,qDAEhBgD,IAFgB,EAGhBQ,MAHgB,CARA;;AAAA;AAQZjC,YAAAA,GARY;AAalBH,YAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AAbkB;AAAA;;AAAA;AAAA;AAAA;AAelBD,YAAAA,OAAO,CAACC,GAAR;;AAfkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AAmBA,SACE,MAAC,UAAD;AAAY,IAAA,KAAK,EAAEsC,MAAM,CAACC,SAA1B;AAAA,eACE,KAAC,IAAD;AAAM,MAAA,KAAK,EAAED,MAAM,CAACE,oBAApB;AAAA,gBACE,MAAC,IAAD;AAAM,QAAA,KAAK,EAAEF,MAAM,CAACG,IAApB;AAAA,mBACE,KAAC,KAAD;AACE,UAAA,MAAM,EAAE;AACN1B,YAAAA,GAAG,EAAEnB;AADC,WADV;AAIE,UAAA,KAAK,EAAE;AAAE8C,YAAAA,KAAK,EAAE,GAAT;AAAcC,YAAAA,MAAM,EAAE;AAAtB;AAJT,UADF,EAQE,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEL,MAAM,CAACM,kBAApB;AAAA,oBACE,MAAC,gBAAD;AACE,YAAA,OAAO,EAAEzC,eADX;AAEE,YAAA,KAAK,EAAEmC,MAAM,CAACO,SAFhB;AAAA,uBAIE,MAAC,IAAD;AAAA,yBAAOjD,WAAW,GAAG,MAAH,GAAY,QAA9B;AAAA,cAJF,EAKE,KAAC,SAAD;AAAW,cAAA,IAAI,EAAC,QAAhB;AAAyB,cAAA,IAAI,EAAE,EAA/B;AAAmC,cAAA,KAAK,EAAC;AAAzC,cALF;AAAA;AADF,UARF;AAAA;AADF,MADF,EAsBE,MAAC,IAAD;AACE,MAAA,KAAK,EAAE;AACLkD,QAAAA,aAAa,EAAE,aADV;AAELC,QAAAA,cAAc,EAAE,EAFX;AAGLC,QAAAA,UAAU,EAAE;AAHP,OADT;AAAA,iBAOE,KAAC,gBAAD;AAAkB,QAAA,OAAO,EAAE;AAAA,iBAAM/D,OAAO,CAAC,CAACD,IAAF,CAAb;AAAA,SAA3B;AAAA,kBACE,KAAC,MAAD;AAAQ,UAAA,IAAI,EAAC,MAAb;AAAoB,UAAA,IAAI,EAAE,EAA1B;AAA8B,UAAA,KAAK,EAAC,MAApC;AAA2C,UAAA,KAAK,EAAE;AAAEiE,YAAAA,SAAS,EAAE;AAAb;AAAlD;AADF,QAPF,EAUE,KAAC,SAAD;AACE,QAAA,KAAK,EAAEX,MAAM,CAACpD,IADhB;AAEE,QAAA,QAAQ,EAAEF,IAAI,GAAG,IAAH,GAAU,KAF1B;AAGE,QAAA,IAAI,EAAC,MAHP;AAIE,QAAA,KAAK,EAAEE,IAJT;AAKE,QAAA,YAAY,EAAE,sBAACA,IAAD;AAAA,iBAAUC,OAAO,CAACD,IAAD,CAAjB;AAAA;AALhB,QAVF;AAAA,MAtBF,EAyCE,MAAC,IAAD;AAAM,MAAA,KAAK,EAAEoD,MAAM,CAACY,OAApB;AAAA,iBACE,MAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEJ,UAAAA,aAAa,EAAE;AAAjB,SAAb;AAAA,mBACE,KAAC,IAAD;AAAM,UAAA,KAAK,EAAER,MAAM,CAACa,IAApB;AAAA;AAAA,UADF,EAEE,KAAC,SAAD;AACE,UAAA,KAAK,EAAEb,MAAM,CAACc,MADhB;AAEE,UAAA,IAAI,EAAC,MAFP;AAGE,UAAA,KAAK,EAAEhE,GAHT;AAIE,UAAA,YAAY,EAAE,sBAACA,GAAD;AAAA,mBAASC,MAAM,CAACD,GAAD,CAAf;AAAA;AAJhB,UAFF;AAAA,QADF,EAaE,MAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAE0D,UAAAA,aAAa,EAAE,KAAjB;AAAwBH,UAAAA,MAAM,EAAE;AAAhC,SAAb;AAAA,mBACE,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEL,MAAM,CAACa,IAApB;AAAA;AAAA,UADF,EAEE,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEb,MAAM,CAACc,MAApB;AAAA,oBACE,MAAC,MAAD;AACE,YAAA,IAAI,EAAC,UADP;AAEE,YAAA,KAAK,EAAE;AAAEH,cAAAA,SAAS,EAAE,CAAC,EAAd;AAAkBD,cAAAA,UAAU,EAAE,CAAC,CAA/B;AAAkCK,cAAAA,KAAK,EAAE;AAAzC,aAFT;AAGE,YAAA,aAAa,EAAE/D,UAHjB;AAIE,YAAA,aAAa,EAAE,uBAACgE,SAAD;AAAA,qBAAe/D,aAAa,CAAC+D,SAAD,CAA5B;AAAA,aAJjB;AAAA,uBAME,KAAC,MAAD,CAAQ,IAAR;AAAa,cAAA,KAAK,EAAC,IAAnB;AAAwB,cAAA,KAAK,EAAC;AAA9B,cANF,EAOE,KAAC,MAAD,CAAQ,IAAR;AAAa,cAAA,KAAK,EAAC,IAAnB;AAAwB,cAAA,KAAK,EAAC;AAA9B,cAPF,EAQE,KAAC,MAAD,CAAQ,IAAR;AAAa,cAAA,KAAK,EAAC,IAAnB;AAAwB,cAAA,KAAK,EAAC;AAA9B,cARF,EASE,KAAC,MAAD,CAAQ,IAAR;AAAa,cAAA,KAAK,EAAC,IAAnB;AAAwB,cAAA,KAAK,EAAC;AAA9B,cATF,EAUE,KAAC,MAAD,CAAQ,IAAR;AAAa,cAAA,KAAK,EAAC,KAAnB;AAAyB,cAAA,KAAK,EAAC;AAA/B,cAVF,EAWE,KAAC,MAAD,CAAQ,IAAR;AAAa,cAAA,KAAK,EAAC,KAAnB;AAAyB,cAAA,KAAK,EAAC;AAA/B,cAXF,EAYE,KAAC,MAAD,CAAQ,IAAR;AAAa,cAAA,KAAK,EAAC,IAAnB;AAAwB,cAAA,KAAK,EAAC;AAA9B,cAZF,EAaE,KAAC,MAAD,CAAQ,IAAR;AAAa,cAAA,KAAK,EAAC,IAAnB;AAAwB,cAAA,KAAK,EAAC;AAA9B,cAbF;AAAA;AADF,UAFF;AAAA,QAbF,EAmCE,MAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAER,UAAAA,aAAa,EAAE;AAAjB,SAAb;AAAA,mBACE,KAAC,IAAD;AAAM,UAAA,KAAK,EAAER,MAAM,CAACa,IAApB;AAAA;AAAA,UADF,EAEE,KAAC,SAAD;AACE,UAAA,KAAK,EAAEb,MAAM,CAACc,MADhB;AAEE,UAAA,IAAI,EAAC,SAFP;AAGE,UAAA,KAAK,EAAE5D,OAHT;AAIE,UAAA,YAAY,EAAE,sBAACA,OAAD;AAAA,mBAAaC,UAAU,CAACD,OAAD,CAAvB;AAAA;AAJhB,UAFF;AAAA,QAnCF,EA+CE,MAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEsD,UAAAA,aAAa,EAAE;AAAjB,SAAb;AAAA,mBACE,KAAC,IAAD;AAAM,UAAA,KAAK,EAAER,MAAM,CAACa,IAApB;AAAA;AAAA,UADF,EAEE,KAAC,SAAD;AACE,UAAA,KAAK,EAAEb,MAAM,CAACc,MADhB;AAEE,UAAA,IAAI,EAAC,SAFP;AAGE,UAAA,KAAK,EAAE1D,OAHT;AAIE,UAAA,YAAY,EAAE,sBAACA,OAAD;AAAA,mBAAaC,UAAU,CAACD,OAAD,CAAvB;AAAA;AAJhB,UAFF;AAAA,QA/CF;AAAA,MAzCF,EAqGE,KAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAE6D,QAAAA,UAAU,EAAE;AAAd,OAAb;AAAA,gBACE,KAAC,gBAAD;AACE,QAAA,KAAK,EAAEjB,MAAM,CAACkB,GADhB;AAEE,QAAA,OAAO,EAAE,mBAAM;AACbtB,UAAAA,aAAa;AACbd,UAAAA,KAAK,CAAC,sBAAD,CAAL;AACD,SALH;AAAA,kBAOE,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEkB,MAAM,CAACmB,SAApB;AAAA;AAAA;AAPF;AADF,MArGF;AAAA,IADF;AAoHD;AAED,IAAMnB,MAAM,GAAGoB,UAAU,CAACC,MAAX,CAAkB;AAC/BpB,EAAAA,SAAS,EAAE;AACTU,IAAAA,SAAS,EAAE,KADF;AAETW,IAAAA,gBAAgB,EAAE;AAFT,GADoB;AAM/BpB,EAAAA,oBAAoB,EAAE;AACpBe,IAAAA,UAAU,EAAE,QADQ;AAEpBM,IAAAA,cAAc,EAAE;AAFI,GANS;AAU/BjB,EAAAA,kBAAkB,EAAE;AAClBkB,IAAAA,OAAO,EAAE,GADS;AAElBC,IAAAA,QAAQ,EAAE,UAFQ;AAGlBC,IAAAA,KAAK,EAAE,CAHW;AAIlBC,IAAAA,MAAM,EAAE,CAJU;AAKlBC,IAAAA,eAAe,EAAE,WALC;AAMlBxB,IAAAA,KAAK,EAAE,MANW;AAOlBC,IAAAA,MAAM,EAAE;AAPU,GAVW;AAmB/BE,EAAAA,SAAS,EAAE;AACTsB,IAAAA,OAAO,EAAE,MADA;AAETZ,IAAAA,UAAU,EAAE,QAFH;AAGTM,IAAAA,cAAc,EAAE;AAHP,GAnBoB;AAwB/BpB,EAAAA,IAAI,EAAE;AACJ2B,IAAAA,SAAS,EAAE,CADP;AAEJzB,IAAAA,MAAM,EAAE,GAFJ;AAGJD,IAAAA,KAAK,EAAE,GAHH;AAIJwB,IAAAA,eAAe,EAAE,SAJb;AAKJH,IAAAA,QAAQ,EAAE,UALN;AAMJM,IAAAA,YAAY,EAAE,GANV;AAOJC,IAAAA,QAAQ,EAAE;AAPN,GAxByB;AAiC/BpF,EAAAA,IAAI,EAAE;AACJqF,IAAAA,QAAQ,EAAE,EADN;AAEJC,IAAAA,UAAU,EAAE,MAFR;AAGJnB,IAAAA,KAAK,EAAE,SAHH;AAIJoB,IAAAA,WAAW,EAAE;AAJT,GAjCyB;AAuC/BvB,EAAAA,OAAO,EAAE;AACPwB,IAAAA,cAAc,EAAE;AADT,GAvCsB;AA6C/BvB,EAAAA,IAAI,EAAE;AACJoB,IAAAA,QAAQ,EAAE,EADN;AAEJC,IAAAA,UAAU,EAAE,MAFR;AAGJnB,IAAAA,KAAK,EAAE,SAHH;AAIJJ,IAAAA,SAAS,EAAE,IAJP;AAKJP,IAAAA,KAAK,EAAE;AALH,GA7CyB;AAoD/BU,EAAAA,MAAM,EAAE;AACNmB,IAAAA,QAAQ,EAAE,EADJ;AAENlB,IAAAA,KAAK,EAAE,SAFD;AAGNJ,IAAAA,SAAS,EAAE,IAHL;AAINP,IAAAA,KAAK,EAAE,KAJD;AAKNiC,IAAAA,WAAW,EAAE,GALP;AAMNN,IAAAA,YAAY,EAAE,CANR;AAONO,IAAAA,OAAO,EAAE;AAPH,GApDuB;AA6D/BC,EAAAA,KAAK,EAAE;AACLN,IAAAA,QAAQ,EAAE,EADL;AAELlB,IAAAA,KAAK,EAAE,SAFF;AAGLyB,IAAAA,iBAAiB,EAAE;AAHd,GA7DwB;AAkE/BtB,EAAAA,GAAG,EAAE;AACHD,IAAAA,UAAU,EAAE,QADT;AAEHZ,IAAAA,MAAM,EAAE;AAFL,GAlE0B;AAsE/Bc,EAAAA,SAAS,EAAE;AACTmB,IAAAA,OAAO,EAAE,EADA;AAETvB,IAAAA,KAAK,EAAE,OAFE;AAGT0B,IAAAA,iBAAiB,EAAE,EAHV;AAITxB,IAAAA,UAAU,EAAE,QAJH;AAKTgB,IAAAA,QAAQ,EAAE,EALD;AAMTF,IAAAA,YAAY,EAAE,EANL;AAOTH,IAAAA,eAAe,EAAE;AAPR;AAtEoB,CAAlB,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  View,\r\n  ScrollView,\r\n  StyleSheet,\r\n  Text,\r\n  TextInput,\r\n  Linking,\r\n  Image,\r\n  TouchableOpacity,\r\n  Alert,\r\n} from \"react-native\";\r\nimport { Avatar } from \"react-native-paper\";\r\nimport { Entypo } from \"@expo/vector-icons\";\r\nimport { Picker } from \"@react-native-picker/picker\";\r\nimport * as ImagePicker from \"expo-image-picker\";\r\nimport * as Permissions from \"expo-permissions\";\r\nimport { AntDesign } from \"@expo/vector-icons\";\r\n//import * as ImagePicker from \"expo-image-picker\";\r\nimport axios from \"axios\";\r\nimport url from \"../../url.json\";\r\n\r\nexport default function BloodDonorProfile({ route }) {\r\n  const [data, setData] = useState(\"\");\r\n  const [edit, setEdit] = useState(false);\r\n  const [name, setName] = useState(\"\");\r\n  const [age, setAge] = useState(\"\");\r\n  const [bloodgroup, setBloodGroup] = useState(\"A+\");\r\n  const [address, setAddress] = useState(\"\");\r\n  const [contact, setContact] = useState(\"\");\r\n  const [profile_pic, setImage] = useState(\r\n    \"https://image.shutterstock.com/image-vector/default-avatar-profile-icon-vector-260nw-1725655669.jpg\"\r\n  );\r\n\r\n  useEffect(() => {\r\n    const apiCall = async () => {\r\n      console.log(\"a\");\r\n      try {\r\n        const res = await axios.get(\r\n          `${url.url}api/blooddonor/62311acdf766fec7c897a35f`\r\n        );\r\n        setImage(res.data.profile_pic);\r\n        setName(res.data.name);\r\n        setAge(res.data.age);\r\n        setBloodGroup(res.data.bloodgroup);\r\n        setAddress(res.data.address);\r\n        setContact(res.data.contact);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    apiCall();\r\n  }, []);\r\n\r\n  const pickFromGallery = async () => {\r\n    const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\r\n    if (status) {\r\n      let data = await ImagePicker.launchImageLibraryAsync({\r\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n        allowsEditing: true,\r\n        aspectRatio: [1, 1],\r\n        quality: 1,\r\n      });\r\n      if (!data.cancelled) {\r\n        let newFile = {\r\n          uri: data.uri,\r\n          type: `test/${data.uri.split(\".\")[1]}`,\r\n          name: `test.${data.uri.split(\".\")[1]}`,\r\n        };\r\n        handleUpload(newFile);\r\n        //settemp(newFile);\r\n        //setImage(newFile);\r\n        Alert.alert(\"Success\", \"Image Uploaded Successfully!\");\r\n      }\r\n      console.log(data);\r\n    } else {\r\n      Alert.alert(\"Warning\", \"Permissions to Gallery are Required\");\r\n    }\r\n  };\r\n\r\n  const handleUpload = (image) => {\r\n    const d = new FormData();\r\n    d.append(\"file\", image);\r\n    d.append(\"upload_preset\", \"esehatmarkaz\");\r\n    d.append(\"cloud_name\", \"esehatnarkaz\");\r\n\r\n    fetch(\"https://api.cloudinary.com/v1_1/esehatmarkaz/image/upload\", {\r\n      method: \"POST\",\r\n      body: d,\r\n    })\r\n      .then((response) => response.json())\r\n      .then((items) => {\r\n        setImage(items.url);\r\n        console.log(items.url);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  // const addImage = async () => {\r\n  //   let _image = await ImagePicker.launchImageLibraryAsync();\r\n  // };\r\n\r\n  const onPresHandler = async () => {\r\n    const config = {\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n    };\r\n    const body = { name, age, bloodgroup, address, contact, profile_pic };\r\n    try {\r\n      const res = await axios.post(\r\n        `${url}api/blooddonor/update/62311acdf766fec7c897a35f`,\r\n        body,\r\n        config\r\n      );\r\n      console.log(\"abc\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ScrollView style={styles.container}>\r\n      <View style={styles.uploadImageContainer}>\r\n        <View style={styles.naar}>\r\n          <Image\r\n            source={{\r\n              uri: profile_pic,\r\n            }}\r\n            style={{ width: 200, height: 200 }}\r\n          />\r\n          {/* {console.log(image)} */}\r\n          <View style={styles.uploadBtnContainer}>\r\n            <TouchableOpacity\r\n              onPress={pickFromGallery}\r\n              style={styles.uploadBtn}\r\n            >\r\n              <Text>{profile_pic ? \"Edit\" : \"Upload\"} Image</Text>\r\n              <AntDesign name=\"camera\" size={20} color=\"black\" />\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n      {/* <Avatar.Image source={kami} size={200} /> */}\r\n      <View\r\n        style={{\r\n          flexDirection: \"row-reverse\",\r\n          marginVertical: 20,\r\n          marginLeft: 60,\r\n        }}\r\n      >\r\n        <TouchableOpacity onPress={() => setEdit(!edit)}>\r\n          <Entypo name=\"edit\" size={20} color=\"gray\" style={{ marginTop: 8 }} />\r\n        </TouchableOpacity>\r\n        <TextInput\r\n          style={styles.name}\r\n          editable={edit ? true : false}\r\n          name=\"name\"\r\n          value={name}\r\n          onChangeText={(name) => setName(name)}\r\n        />\r\n      </View>\r\n\r\n      <View style={styles.details}>\r\n        <View style={{ flexDirection: \"row\" }}>\r\n          <Text style={styles.keys}>Age: </Text>\r\n          <TextInput\r\n            style={styles.values}\r\n            name=\"name\"\r\n            value={age}\r\n            onChangeText={(age) => setAge(age)}\r\n          >\r\n            {/* //{console.log(age)} */}\r\n          </TextInput>\r\n        </View>\r\n\r\n        <View style={{ flexDirection: \"row\", height: \"19%\" }}>\r\n          <Text style={styles.keys}>Blood Group: </Text>\r\n          <View style={styles.values}>\r\n            <Picker\r\n              mode=\"dropdown\"\r\n              style={{ marginTop: -12, marginLeft: -5, color: \"gray\" }}\r\n              selectedValue={bloodgroup}\r\n              onValueChange={(itemValue) => setBloodGroup(itemValue)}\r\n            >\r\n              <Picker.Item label=\"A+\" value=\"A+\" />\r\n              <Picker.Item label=\"A-\" value=\"A-\" />\r\n              <Picker.Item label=\"B+\" value=\"B+\" />\r\n              <Picker.Item label=\"B-\" value=\"B-\" />\r\n              <Picker.Item label=\"AB+\" value=\"AB+\" />\r\n              <Picker.Item label=\"AB-\" value=\"AB-\" />\r\n              <Picker.Item label=\"O+\" value=\"O+\" />\r\n              <Picker.Item label=\"O-\" value=\"O-\" />\r\n            </Picker>\r\n          </View>\r\n          {/* {console.log(bloodGroup)} */}\r\n        </View>\r\n\r\n        <View style={{ flexDirection: \"row\" }}>\r\n          <Text style={styles.keys}>Address: </Text>\r\n          <TextInput\r\n            style={styles.values}\r\n            name=\"address\"\r\n            value={address}\r\n            onChangeText={(address) => setAddress(address)}\r\n          >\r\n            {/* {console.log(address)} */}\r\n          </TextInput>\r\n        </View>\r\n\r\n        <View style={{ flexDirection: \"row\" }}>\r\n          <Text style={styles.keys}>Contact: </Text>\r\n          <TextInput\r\n            style={styles.values}\r\n            name=\"contact\"\r\n            value={contact}\r\n            onChangeText={(contact) => setContact(contact)}\r\n          >\r\n            {/* {console.log(contact)} */}\r\n          </TextInput>\r\n        </View>\r\n      </View>\r\n\r\n      <View style={{ alignItems: \"center\" }}>\r\n        <TouchableOpacity\r\n          style={styles.btn}\r\n          onPress={() => {\r\n            onPresHandler();\r\n            alert(\"Profile Data Updated\");\r\n          }}\r\n        >\r\n          <Text style={styles.updateBtn}>Save</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n      {/* {console.log(data)} */}\r\n    </ScrollView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    marginTop: \"10%\",\r\n    marginHorizontal: 10,\r\n    //  width: \"100%\",\r\n  },\r\n  uploadImageContainer: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  uploadBtnContainer: {\r\n    opacity: 0.7,\r\n    position: \"absolute\",\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: \"lightgrey\",\r\n    width: \"100%\",\r\n    height: \"25%\",\r\n  },\r\n  uploadBtn: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  naar: {\r\n    elevation: 2,\r\n    height: 200,\r\n    width: 200,\r\n    backgroundColor: \"#efefef\",\r\n    position: \"relative\",\r\n    borderRadius: 999,\r\n    overflow: \"hidden\",\r\n  },\r\n  name: {\r\n    fontSize: 24,\r\n    fontWeight: \"bold\",\r\n    color: \"#26241e\",\r\n    marginRight: 10,\r\n  },\r\n  details: {\r\n    borderTopWidth: 0.3,\r\n    // borderBottomEndRadius: 10,\r\n    // // borderBottomRightRadius: 100,\r\n    // borderBottomStartRadius: 100,\r\n  },\r\n  keys: {\r\n    fontSize: 16,\r\n    fontWeight: \"bold\",\r\n    color: \"#26241e\",\r\n    marginTop: \"4%\",\r\n    width: \"30%\",\r\n  },\r\n  values: {\r\n    fontSize: 14,\r\n    color: \"#6e6464\",\r\n    marginTop: \"2%\",\r\n    width: \"65%\",\r\n    borderWidth: 0.5,\r\n    borderRadius: 5,\r\n    padding: 4,\r\n  },\r\n  click: {\r\n    fontSize: 14,\r\n    color: \"#6e6464\",\r\n    borderBottomWidth: 0.5,\r\n  },\r\n  btn: {\r\n    alignItems: \"center\",\r\n    height: 100,\r\n  },\r\n  updateBtn: {\r\n    padding: 10,\r\n    color: \"white\",\r\n    paddingHorizontal: 50,\r\n    alignItems: \"center\",\r\n    fontSize: 16,\r\n    borderRadius: 15,\r\n    backgroundColor: \"#09da41\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}